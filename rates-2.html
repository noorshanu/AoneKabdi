<!Doctype html>

<!-- Mirrored from www.aonekabadi.com/rates.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Nov 2025 14:46:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Scrap Rates in Bokaro — Aone Kabadi  </title>

  <meta name="description" content="Check today’s scrap rates in Bokaro with Aone Kabadi  . We offer fair prices for iron, steel, plastic, paper, and electronic waste with doorstep pickup service." />
  <link rel="canonical" href="rates-2.html" />

  <!-- Favicons -->
  <link rel="icon" href="assets/favicon.html" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png" />
  <link rel="mask-icon" href="assets/safari-pinned-tab.html" color="#ff6600" />
  <meta name="theme-color" content="#0b0b0b" />


  <meta property="og:locale" content="en_IN" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Aone Kabadi" />
  <meta property="og:title" content="Scrap Rates in Bokaro — Aone Kabadi  " />
  <meta property="og:description" content="Check today’s scrap rates in Bokaro. Fair prices for iron, steel, plastic, paper, and e-waste with doorstep pickup." />
  <meta property="og:url" content="rates-2.html" />
  <!-- using the existing common OG image (replace path if needed) -->
  <meta property="og:image" content="assets/og-home.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Scrap Rates in Bokaro — Aone Kabadi" />
  <meta name="twitter:description" content="Check today’s scrap rates in Bokaro. Fair prices for iron, steel, plastic, paper, and e-waste with doorstep pickup." />
  <meta name="twitter:image" content="assets/og.html" />

  <!-- Social profile (rel="me") -->
  <link rel="me" href="https://www.instagram.com/aonekabadi/" />

  <!-- Preconnect / fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com/" />
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&amp;display=swap" rel="stylesheet" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />
  <style>
    
    :root{
      --ktm-orange:#ff6600;
      --green-primary:#22c55e;
      --green-dark:#16a34a;
      --green-light:#4ade80;
      --bg: #ffffff;
      --header-bg: #ffffff;
      --card-bg: #ffffff;
      --muted: #6b7280;
      --accent-1:#000000;
      --accent-2:#1f2937;
      --radius:12px;
      --header-height:64px; 
      --modal-gap:12px;
    }

    html,body{
      height:100%; margin:0; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background:var(--bg); color:var(--accent-1); -webkit-font-smoothing:antialiased;
    }
    .container{ max-width:1180px; margin:0 auto; padding:0 20px; box-sizing:border-box; }

    /* --- HEADER: white background --- */
    header.site-header{
      background: var(--header-bg);
      backdrop-filter: blur(6px);
      position:sticky;
      top:0;
      z-index:1000; /* ensure admin modal can sit above this */
      border-bottom:1px solid rgba(0,0,0,0.08);
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
    .header-inner{ display:flex; align-items:center; justify-content:space-between; padding:8px 0; }
    .brand img, .brand svg { height:62px !important; width:auto !important; display:block !important; background:transparent !important; border:none !important; box-shadow:none !important; }
    nav.nav { display:flex; gap:12px; align-items:center; }
    nav.nav a { 
      color: #000000 !important; 
      text-decoration:none !important; 
      font-weight:700 !important; 
      padding:6px 10px; 
      border-radius:8px; 
      transition: color 0.2s ease;
      opacity: 1 !important;
      font-size: 14px;
    }
    nav.nav a.active { 
      color: var(--green-primary) !important; 
      font-weight: 800 !important;
    }
    nav.nav a:hover { 
      color: var(--green-primary) !important; 
      background: rgba(34,197,94,0.05); 
    }

    /* Mobile collapsible nav */
    #mobile-collapsible-nav-inject { display: none; }
    @media (max-width: 768px) {
      nav.nav { display: none !important; }
      #mobile-collapsible-nav-inject { display:flex; align-items:center; gap:8px; position:relative; z-index:210; }

      .hamburger { width:46px; height:46px; display:inline-flex; align-items:center; justify-content:center;
        background: #ffffff;
        border:1px solid rgba(0,0,0,0.1); border-radius:10px; padding:8px; cursor:pointer;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 160ms ease, background 160ms ease;
        flex-direction: column; gap:4px;
      }
      .hamburger-line { display:block; width:18px; height:2px; border-radius:2px; background:#000; }
      .hamburger.open .hamburger-line:nth-child(1) { transform: translateY(5px) rotate(45deg); }
      .hamburger.open .hamburger-line:nth-child(2) { opacity: 0; transform: scale(0.4); }
      .hamburger.open .hamburger-line:nth-child(3) { transform: translateY(-5px) rotate(-45deg); }

      #mobile-collapsible-nav-inject .collapsible-menu {
        position:absolute; left:8px; top:58px; width:260px; max-height:0; overflow:hidden;
        transition:max-height 300ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease, transform 220ms ease; opacity:0;
        transform-origin: top left; transform: translateY(-6px) scale(.98);
        background: #ffffff; color:#000; border-radius:14px; border:1px solid rgba(0,0,0,0.1); box-shadow:0 10px 40px rgba(0,0,0,0.15);
      }
      #mobile-collapsible-nav-inject .collapsible-menu.open { opacity:1; transform: translateY(0) scale(1); max-height:640px; }
      #mobile-collapsible-nav-inject .collapsible-list { list-style:none; margin:10px; padding:10px; display:flex; flex-direction:column; gap:8px; }
      #mobile-collapsible-nav-inject .collapsible-list a { display:block; padding:10px 12px; border-radius:10px; text-decoration:none; color:#000; font-weight:700; }
      #mobile-collapsible-nav-inject .collapsible-list a:hover { background: rgba(34,197,94,0.1); color: var(--green-primary); }
      .header-inner { gap:8px; }
      .brand { margin-left:auto; display:flex; align-items:center; justify-content:flex-end; }
      .brand img { height:48px !important; }
    }

    /* hero + title area */
    .hero{ padding:28px 0 18px; display:flex; gap:14px; align-items:center; justify-content:space-between; }
    .hero-left { display:flex; flex-direction:column; gap:6px; max-width:720px; }

    .page-title {
      font-size:36px;
      line-height:1.02;
      color:#ff6600;
      font-weight:900;
      margin:0;
      letter-spacing: -0.02em;
      display:flex; align-items:center; gap:12px;
    }
    .page-title .accent { width:8px; height:42px; background: linear-gradient(180deg, #ff6600, #ff8533); border-radius:4px; }

    .page-sub { color:var(--muted); margin:0 0 6px; font-size:14px; }

    .controls { display:flex; gap:10px; align-items:center; }
    .search { background:#ffffff; border:1px solid rgba(16,24,32,0.06); padding:8px 10px; border-radius:10px; color:var(--accent-1); display:flex; align-items:center; gap:8px; }
    .search svg { opacity:0.6 }
    .search input{ background:transparent; border:none; outline:none; color:var(--accent-1); width:160px; }

    .toggle-view { background:transparent; border:1px solid rgba(0,0,0,0.1); color:var(--accent-1); padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:700; }
    .toggle-view.active { background:var(--green-primary); color:#fff; box-shadow: 0 8px 24px rgba(34,197,94,0.2); }

    .admin-small-btn{ background:var(--green-primary); color:#fff; padding:8px 10px; border-radius:10px; font-weight:800; border:none; cursor:pointer; display:inline-flex; align-items:center; gap:8px; }
    .admin-small-btn:hover { background:var(--green-dark); }

    .rates-wrap { margin-top:18px; display:grid; gap:18px; grid-template-columns: 1fr; }
    .rates-table-card { background:#72c28fab; border-radius:12px; overflow:hidden; border:2px solid #22c55f; }

    table.rates-table { width:100%; border-collapse:collapse; min-width:0; }
    table.rates-table thead th{ background: transparent; color:#ff6600; font-weight:800; padding:12px 14px; text-align:left; font-size:13px; }
    table.rates-table tbody tr { border-bottom:1px solid rgba(16,24,32,0.04); }
    table.rates-table tbody td { padding:12px 14px; color:var(--accent-1); vertical-align:middle; }

    .cards-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
    .rate-card { background: #72c28fab; border-radius:12px; padding:12px; border:2px solid #22c55f; box-shadow: 0 8px 20px rgba(16,24,32,0.06); display:flex; gap:12px; align-items:center; justify-content:space-between; }
    .rate-left { display:flex; gap:12px; align-items:center; min-width:0; }
    .badge { width:46px; height:46px; border-radius:8px; background:rgba(34,197,94,0.12); display:grid; place-items:center; color:var(--green-primary); font-weight:900; }
    .meta .name { font-weight:800; color:var(--accent-1); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .meta .unit { font-size:13px; color:var(--accent-2); margin-top:6px; }
    .rate-right .rate { font-size:16px; color:var(--green-primary); font-weight:900; text-align:right; }

    @media(max-width:1000px){ .cards-grid{ grid-template-columns: repeat(2, 1fr); } }
    @media(max-width:700px){
      .hero { flex-direction:column; align-items:flex-start; gap:12px; }
      .cards-grid{ grid-template-columns: 1fr; }
      table.rates-table { min-width:0; display:block; width:100%; overflow:auto; }
      .brand { order:0; margin-left:0; }
      .page-title { font-size:22px; }
      .page-title .accent { height:28px; width:6px; }
      .controls { width:100%; justify-content:flex-start; gap:8px; flex-wrap:wrap }
      .search input{ width:120px }
    }

    .site-footer { padding:24px 0; border-top:1px solid rgba(0,0,0,0.08); color:var(--accent-2); background:transparent; margin-top:32px; }
    .footer-inner { display:flex; justify-content:space-between; gap:12px; align-items:center; }

    /* Admin modal - ensure sits above header and never hidden (responsive + wrap) */
    #adminModal{
      display:none;
      position:fixed;
      inset:0;
      z-index:12000; /* very high to sit above header */
      background:rgba(0,0,0,0.5);
      align-items: center;
      justify-content: center;
      padding: 20px;
      overflow: auto; /* allow scrolling on small screens */
      -webkit-overflow-scrolling: touch;
    }


    #adminModal .panel {
      background: #ffffff;
      padding: 16px;
      border-radius: 12px;
      width: 100%;
      max-width: 920px;
      max-height: calc(100vh - 80px); 
      border: 1px solid rgba(16,24,32,0.06);
      box-shadow: 0 20px 60px rgba(16,24,32,0.08);
      color: var(--accent-1);
      display: flex;
      flex-direction: column;
      gap: var(--modal-gap);
      box-sizing: border-box;
      position: relative;
    }

    #adminModal .panel > div:first-child {
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    #adminModal .panel > div:first-child h3 {
      margin: 0;
      flex: 1 1 320px;
      min-width: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-size: 1.05rem;
    }

    /* actions should wrap on small screens */
    #adminModal .panel > div:first-child > div {
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }
    #adminModal .panel > div:first-child button { white-space:nowrap; }

    /* admin list scroll area */
    #adminList {
      display: grid;
      gap: 8px;
      max-height: calc(100vh - 300px);
      overflow: auto;
      padding-right: 6px;
      margin-top: 8px;
    }

    
    .admin-row{ display:grid; grid-template-columns: 2fr 84px 120px 44px; gap:8px; align-items:center; padding:8px; border-radius:8px; background:#fff; border:1px solid rgba(16,24,32,0.04); }
    .admin-row input[type=text], .admin-row input[type=number], .admin-row select{ background:#fff; border:1px solid rgba(16,24,32,0.06); color:var(--accent-1); padding:8px; border-radius:8px; width:100%; box-sizing:border-box }
    .admin-row .admin-delete{ background:transparent; border:1px solid rgba(16,24,32,0.06); color:var(--accent-2); border-radius:8px; padding:6px; cursor:pointer }

    @media (max-width:600px){
      .admin-row{ grid-template-columns: 1fr; }
      .admin-row input[type=text], .admin-row input[type=number], .admin-row select{ width:100%; }
      .admin-row .admin-delete{ justify-self:end; }
      #adminList { max-height: calc(100vh - 220px); }
      #adminModal .panel { padding: 12px; max-width: 94%; }
      #adminModal .panel > div:first-child h3 { white-space: normal; }
    }

    .admin-actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:12px }
    .admin-delete{ background:transparent; border:1px solid rgba(16,24,32,0.06); color:var(--accent-2); border-radius:8px; padding:6px; cursor:pointer }

    /* Login modal (light) */
    #loginModal{ display:none; position:fixed; inset:0; z-index:13000; background:rgba(2,6,23,0.45); align-items:center; justify-content:center; padding:20px; }
    #loginModal .panel{ background:#ffffff; padding:18px; border-radius:10px; width:100%; max-width:420px; box-shadow:0 20px 60px rgba(16,24,32,0.08); border:1px solid rgba(16,24,32,0.06); color:var(--accent-1) }
    #loginModal input[type=password]{ width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(16,24,32,0.06); background:#fff; color:var(--accent-1); }
    #loginMsg{ font-size:13px; color:#b44; margin-top:8px; min-height:18px }

    /* Screenshot helper styling */
    .screenshot-root{ font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; background:#fff; color:#000; padding:18px; border-radius:8px; max-width:900px; width:100%; box-sizing:border-box; }
    .screenshot-table{ width:100%; border-collapse:collapse; }
    .screenshot-table th, .screenshot-table td{ padding:8px 10px; border-bottom:1px solid #eee; text-align:left }
    .screenshot-table th{ font-weight:800; }

    /* Ensure anchor scrolls below header */
    [id] { scroll-margin-top: calc(var(--header-height) + 12px); }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
<a class='brand' href='index.html'><img src="assets/logo.png" class="site-logo" alt="Aone Kabadiwala"></a>

      <nav class="nav" aria-label="Main navigation">
        <a href='index.html'>Home</a>
        <a href='services.html'>Services</a>
        <a href='initiatives.html'>Initiatives</a>
        <a href='franchise.html'>Franchise</a>
        <a href='about.html'>About</a>
        <a href='contact.html'>Contact</a>
        <a class='active' href='rates.html'>Rates</a>
        <a href='scrap-calculator.html'>Scrap Calculator</a>
      </nav>
    </div>
  </header>

  <main class="container" style="padding:30px 20px 40px;">
    <div class="hero">
      <div class="hero-left">
        <h1 class="page-title" style="font-size:56px;line-height:1.02;margin:0;font-weight:900;letter-spacing:-0.02em;display:flex;align-items:center;gap:16px;text-shadow:0 10px 30px rgba(0,0,0,0.6);">
          <span class="accent" aria-hidden="true" style="width:10px;height:54px;background:linear-gradient(180deg,var(--ktm-orange),#ffd1a3);border-radius:6px;box-shadow:0 8px 20px rgba(255,102,0,0.08);transform:translateY(-2px);flex:0 0 auto;"></span>

          <span style="display:inline-block;">
            <span style="display:block;font-size:18px;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:0.12em;margin-bottom:6px;">Current • Rates</span>
            <span style="display:block;background: linear-gradient(90deg, #ffffff, #ffd6b3 60%);-webkit-background-clip: text;-webkit-text-fill-color: transparent;color: transparent;font-weight:900;font-size:56px;line-height:0.98;">See Scrap Rates</span>
          </span>
        </h1>

        <p class="page-sub" style="margin-top:10px;font-size:16px;color:var(--muted);max-width:720px;">
          Rates below are editable from your Admin. Use the search and view toggle to explore available.
        </p>
      </div>

      <div class="hero-right">
        <div class="controls" role="toolbar" aria-label="Controls">
          <div class="search" role="search" aria-label="Search rates">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path stroke="#000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35"></path><circle cx="11" cy="11" r="6" stroke="#000" stroke-width="1.6"></circle></svg>
            <input id="searchInput" placeholder="Search items (e.g. 'Iron')" aria-label="Search rates">
          </div>

          <button id="toggleTable" class="toggle-view" title="Switch view">Table</button>
          <button id="toggleCards" class="toggle-view active" title="Switch view">Cards</button>

          <!-- small admin button placed here -->
          <button id="adminToggle" class="admin-small-btn" title="Open Admin">Admin</button>
        </div>
      </div>
    </div>

    <div class="rates-wrap" id="ratesWrap">
      <div class="rates-table-card" id="tableCard" style="display:none">
        <table class="rates-table" role="table" aria-label="Scrap rates table">
          <thead>
            <tr>
              <th style="width:60px">SL. No.</th>
              <th>Scrap Name</th>
              <th>Weight / Unit</th>
              <th style="width:140px">Rate</th>
            </tr>
          </thead>
          <tbody id="ratesTableBody">
           
          </tbody>
        </table>
      </div>

      <!-- CARDS GRID: use data-key only (no duplicate ids) -->
      <div class="cards-grid" id="cardsGrid" role="list" aria-label="Scrap rates list"></div>
    </div>
  </main>

  <!-- Login modal (masked input) -->
  <div id="loginModal">
    <div class="panel">
      <h3 style="margin:0 0 8px">Admin Login</h3>
      <label for="adminPassword" style="display:block;margin-bottom:6px;color:var(--accent-2)">Password</label>
      <input id="adminPassword" type="password" autocomplete="current-password" placeholder="Enter admin password">
      <div style="display:flex;gap:8px;margin-top:12px">
        <button id="loginCancel" class="toggle-view" type="button">Cancel</button>
        <button id="loginSubmit" class="admin-small-btn" type="button">Unlock</button>
      </div>
      <div id="loginMsg" aria-live="polite"></div>
    </div>
  </div>

  <!-- Admin modal -->
  <div id="adminModal">
    <div class="panel" role="dialog" aria-modal="true" aria-labelledby="adminHeading">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
        <h3 id="adminHeading" style="margin:0">Admin — Edit Rates &amp; Items</h3>
        <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
          <button id="addNewItem" class="toggle-view" style="background:transparent">+ Add</button>
          <button id="resetDefaults" class="toggle-view" style="background:transparent">Reset Defaults</button>
          <button id="saveRates" class="admin-small-btn">Save</button>
          <button id="closeAdmin" class="toggle-view" style="background:transparent">Close</button>
          <!-- single Screenshot button (visible on mobile due to wrapping) -->
          <button id="screenshotBtn" class="toggle-view" title="Download screenshot">Screenshot</button>
        </div>
      </div>

      <div id="adminList" aria-live="polite" style="margin-top:12px"></div>

      <div style="display:flex;gap:8px;margin-top:12px;align-items:center;justify-content:space-between;flex-wrap:wrap">
        <div style="color:var(--accent-2);font-size:13px">Edit item name, unit (kg/pc), and rate. Changes saved locally to your browser.</div>
        <div style="display:flex;gap:8px;align-items:center">
          <button id="exportBtn" class="toggle-view">Export</button>
          <button id="importBtn" class="toggle-view">Import</button>
          <input id="fileImport" type="file" accept="application/json" style="display:none">
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div style="display:flex;gap:12px;align-items:center">
        <img src="assets/logo.png" height="34" alt="Aone Kabadiwala">
        <div class="muted" style="color:var(--accent-2)">Helping build a greener India — one pickup at a time.</div>
      </div>
      <div style="color:var(--accent-2)">© <span id="year">2025</span> Aone Kabadi</div>
    </div>
  </footer>

  <!-- bcryptjs library -->
  <script src="../cdnjs.cloudflare.com/ajax/libs/bcryptjs/2.4.3/bcrypt.min.js"></script>

  <!-- html2canvas for screenshot (optional) -->
  <script src="../cdn.jsdelivr.net/npm/html2canvas%401.4.1/dist/html2canvas.min.js"></script>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    /******** CONFIG: Put your bcrypt hash here (generate locally) ********/
    const PASSWORD_HASH = 'REPLACE_WITH_BCRYPT_HASH';

    const DEFAULT_RATES = [
      { idKey:'newspaper', sl:1, name:'Newspaper', unit:'kg', rate:8 },
      { idKey:'copy', sl:2, name:'Copy', unit:'kg', rate:10 },
      { idKey:'book', sl:3, name:'Book', unit:'kg', rate:10 },
      { idKey:'magazine', sl:4, name:'Magazine', unit:'kg', rate:6 },
      { idKey:'copy_book_mix', sl:5, name:'Copy + Book Mix', unit:'kg', rate:10 },
      { idKey:'cartoon', sl:6, name:'Cartoon', unit:'kg', rate:10 },
      { idKey:'iron', sl:7, name:'Iron', unit:'kg', rate:20 },
      { idKey:'cutting_iron', sl:8, name:'Cutting Iron', unit:'kg', rate:17 },
      { idKey:'tina', sl:9, name:'Tina', unit:'kg', rate:15 },
      { idKey:'steel', sl:10, name:'Steel', unit:'kg', rate:30},
      { idKey:'aluminium_cast', sl:11, name:'Aluminium (Cast)', unit:'kg', rate:80 },
      { idKey:'aluminium_beat', sl:12, name:'Aluminium (Beat)', unit:'kg', rate:70 },
      { idKey:'plastic_black', sl:13, name:'Plastic (Black)', unit:'kg', rate:1 },
      { idKey:'plastic_hard', sl:14, name:'Plastic (Hard)', unit:'kg', rate:3 },
      { idKey:'plastic_soft', sl:15, name:'Plastic (Soft)', unit:'kg', rate:10 },
      { idKey:'bottle_quarter', sl:16, name:'Bottle (Quarter)', unit:'pc', rate:0.5 },
      { idKey:'bottle_full', sl:17, name:'Bottle (Full)', unit:'pc', rate:1 },
      { idKey:'beer_bottle', sl:18, name:'Beer Bottle', unit:'pc', rate:1 },
      { idKey:'computer', sl:19, name:'Computer', unit:'pc', rate:100 },
      { idKey:'cpu', sl:20, name:'CPU', unit:'pc', rate:150 },
      { idKey:'ups', sl:21, name:'U.P.S', unit:'pc', rate:150 },
      { idKey:'battery_black_dry', sl:22, name:'Battery (Black Dry)', unit:'kg', rate:70 },
      { idKey:'battery_liquid', sl:23, name:'Battery (Liquid)', unit:'kg', rate:80 },
      { idKey:'tyre', sl:24, name:'Tyre (4+6 Wheeler only)', unit:'kg', rate:10 },
      { idKey:'tube', sl:25, name:'Tube', unit:'kg', rate:8 },
      { idKey:'frize_big', sl:26, name:'Frize (Big)', unit:'pc', rate:400 },
      { idKey:'frize_small', sl:27, name:'Frize (Small)', unit:'pc', rate:200 }
    ];

    function formatRate(val, unit){
      if(unit === 'pc' || (typeof unit === 'string' && (unit.toLowerCase().includes('pic') || unit.toLowerCase().includes('piece')))) {
        return '₹ ' + Number(val).toLocaleString() + '/pc';
      }
      return '₹ ' + Number(val).toLocaleString() + ' /kg';
    }
    function slugify(text){ return String(text||'').trim().toLowerCase().replace(/\s+/g,'_').replace(/[^a-z0-9_]/g,'') || ('item_' + Date.now()); }
    function escapeHtml(s){ return String(s).replace(/[&<>\"']/g, function(c){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[c]; }); }

    const LS_KEY = 'rates_items_v1';
    function loadItems(){
      const raw = localStorage.getItem(LS_KEY);
      if(raw){
        try{ const parsed = JSON.parse(raw); if(Array.isArray(parsed)) return parsed; }catch(e){}
      }
      return DEFAULT_RATES.map(d=>({ idKey:d.idKey, sl:d.sl, name:d.name, unit:d.unit, rate:Number(d.rate) }));
    }
    function saveItems(items){ localStorage.setItem(LS_KEY, JSON.stringify(items)); }

    let ITEMS = loadItems();

    /* Renderers */
    function renderCards(items){
      const grid = document.getElementById('cardsGrid'); grid.innerHTML = '';
      items.forEach(it=>{
        const card = document.createElement('div'); card.className = 'rate-card';
        card.setAttribute('role','listitem');
        const nameText = escapeHtml(it.name);
        const unitText = escapeHtml(it.unit);
        const rateText = formatRate(it.rate, it.unit);
        // Note: use data-key (no duplicate id), JS updates nodes with [data-key]
        const inner = '<div class="rate-left"><div class="badge" aria-hidden="true">' + it.sl + '</div><div class="meta"><div class="name" title="' + nameText + '">' + nameText + '</div><div class="unit" style="color:var(--accent-2)">' + unitText + '</div></div></div><div class="rate-right"><div class="rate" data-key="' + it.idKey + '">' + rateText + '</div></div>';
        card.innerHTML = inner;
        grid.appendChild(card);
      });
    }

    function renderTable(items){
      const tbody = document.getElementById('ratesTableBody'); tbody.innerHTML = '';
      items.forEach(it=>{
        const tr = document.createElement('tr');
        const nameText = escapeHtml(it.name);
        const unitText = escapeHtml(it.unit);
        const rateText = formatRate(it.rate, it.unit);
        // table elements *do* use ids so you can target them if needed
        tr.innerHTML = '<td class="sl">' + it.sl + '</td><td class="name">' + nameText + '</td><td class="unit">' + unitText + '</td><td class="rate"><span id="rate_' + it.idKey + '" data-key="' + it.idKey + '">' + rateText + '</span></td>';
        tbody.appendChild(tr);
      });
    }

    function renderAll(){
      ITEMS = ITEMS.map((it,i)=> Object.assign({}, it, { sl: i+1 }));
      renderCards(ITEMS);
      renderTable(ITEMS);
    }
    renderAll();

    /* Search + View toggles */
    document.getElementById('searchInput').addEventListener('input', (e)=> applySearch(e.target.value));
    function applySearch(term){
      term = (term||'').trim().toLowerCase();
      const cards = Array.from(document.querySelectorAll('#cardsGrid .rate-card'));
      const rows = Array.from(document.querySelectorAll('#ratesTableBody tr'));
      if(!term){ cards.forEach(c=>c.style.display='flex'); rows.forEach(r=>r.style.display='table-row'); return; }
      cards.forEach(c=>{ const name = (c.querySelector('.meta .name').textContent||'').toLowerCase(); c.style.display = name.includes(term) ? 'flex' : 'none'; });
      rows.forEach(r=>{ const name = (r.querySelector('.name').textContent||'').toLowerCase(); r.style.display = name.includes(term) ? 'table-row' : 'none'; });
    }

    const btnTable = document.getElementById('toggleTable');
    const btnCards = document.getElementById('toggleCards');
    const tableCard = document.getElementById('tableCard');
    const cardsGrid = document.getElementById('cardsGrid');

    btnTable.addEventListener('click', ()=> { tableCard.style.display='block'; cardsGrid.style.display='none'; btnTable.classList.add('active'); btnCards.classList.remove('active'); });
    btnCards.addEventListener('click', ()=> { tableCard.style.display='none'; cardsGrid.style.display='grid'; btnCards.classList.add('active'); btnTable.classList.remove('active'); });

    /* Backend fetch (unchanged) */
    (function tryFetchBackendRates(){
      if(location.protocol === 'file:'){ console.info('Running under file:// — skipping backend fetch.'); return; }
      const endpoint = '/api/rates';
      function fetchWithTimeout(url, options = {}, timeout = 6000){
        return new Promise((resolve, reject) => { const timer = setTimeout(() => reject(new Error('fetch-timeout')), timeout); fetch(url, options).then(res => { clearTimeout(timer); resolve(res); }).catch(err => { clearTimeout(timer); reject(err); }); });
      }
      fetchWithTimeout(endpoint, { cache: 'no-cache' }, 6000).then(r=>{ if(!r.ok) throw new Error('bad-response:' + r.status); return r.json(); }).then(json=>{
        const remote = json && (json.rates || json);
        if(!remote) return;
        const map = {};
        if(Array.isArray(remote)) remote.forEach(it => { if(it.idKey) map[it.idKey]=Number(it.rate); }); else Object.keys(remote).forEach(k => map[k]=Number(remote[k]));
        const nodes = document.querySelectorAll('[data-key]');
        nodes.forEach(n => {
          const key = n.getAttribute('data-key');
          if(map[key] !== undefined && !isNaN(map[key])){
            const def = ITEMS.find(d => d.idKey === key);
            const unit = def ? def.unit : '';
            n.textContent = formatRate(map[key], unit);
          }
        });
        console.info('Rates loaded from backend:', endpoint);
      }).catch(err=>{ console.warn('Backend fetch skipped/failed — using local rates. Reason:', err && err.message ? err.message : err); });
    })();

    /**************** ADMIN & LOGIN ****************/
    const adminToggle = document.getElementById('adminToggle');
    const adminModal = document.getElementById('adminModal');
    const adminList = document.getElementById('adminList');

    const loginModal = document.getElementById('loginModal');
    const loginSubmit = document.getElementById('loginSubmit');
    const loginCancel = document.getElementById('loginCancel');
    const adminPasswordInput = document.getElementById('adminPassword');
    const loginMsg = document.getElementById('loginMsg');

    adminToggle.addEventListener('click', ()=>{ adminPasswordInput.value = ''; loginMsg.textContent = ''; loginModal.style.display = 'flex'; setTimeout(()=>adminPasswordInput.focus(), 50); });
    loginCancel.addEventListener('click', ()=>{ loginModal.style.display = 'none'; });

    loginSubmit.addEventListener('click', ()=>{
      const pwd = adminPasswordInput.value || '';
      if(!pwd){ loginMsg.textContent = 'Enter password'; return; }
      if(PASSWORD_HASH === 'REPLACE_WITH_BCRYPT_HASH' || !PASSWORD_HASH){
        if(pwd === '@0825'){ loginModal.style.display = 'none'; openAdmin(); return; } else { loginMsg.textContent = 'Incorrect password (Incorrect password)'; return; }
      }
      try {
        const ok = bcrypt.compareSync(pwd, PASSWORD_HASH);
        if(ok){ loginModal.style.display = 'none'; openAdmin(); return; } else { loginMsg.textContent = 'Incorrect password'; return; }
      } catch(e){ console.error('bcrypt compare error', e); loginMsg.textContent = 'Login error'; }
    });

    adminPasswordInput.addEventListener('keydown', function(ev){ if(ev.key === 'Enter') loginSubmit.click(); });

    function openAdmin(){
      adminList.innerHTML = '';
      for(const it of ITEMS) adminList.appendChild(createAdminRow(it));
      adminModal.style.display = 'flex';
      // put focus into first input for accessibility
      setTimeout(()=>{ const first = adminList.querySelector('input[type=text]'); if(first) first.focus(); }, 80);
    }

    function createAdminRow(item){
      const el = document.createElement('div'); el.className = 'admin-row';
      const labelInp = document.createElement('input'); labelInp.type='text'; labelInp.value = item.name || ''; labelInp.placeholder = 'Item name';
      const unitSel = document.createElement('select'); unitSel.innerHTML = '<option value="kg">kg</option><option value="pc">pc</option>'; unitSel.value = item.unit || 'kg';
      const priceInp = document.createElement('input'); priceInp.type='number'; priceInp.step='0.01'; priceInp.value = Number(item.rate) || 0;
      const delBtn = document.createElement('button'); delBtn.className='admin-delete'; delBtn.type='button'; delBtn.title='Delete item'; delBtn.innerHTML='✕';
      delBtn.addEventListener('click', ()=>{ if(!confirm('Delete "' + (item.name || 'item') + '"?')) return; ITEMS = ITEMS.filter(it => it.idKey !== item.idKey); openAdmin(); });

      labelInp.dataset.origId = item.idKey; priceInp.dataset.origId = item.idKey; unitSel.dataset.origId = item.idKey;
      el.appendChild(labelInp); el.appendChild(unitSel); el.appendChild(priceInp); el.appendChild(delBtn);
      return el;
    }

    document.getElementById('addNewItem').addEventListener('click', ()=>{ const newId = 'item_' + Date.now(); ITEMS.push({ idKey:newId, sl: ITEMS.length+1, name:'New Item', unit:'kg', rate:0 }); openAdmin(); setTimeout(()=>{ const first = adminList.querySelector('.admin-row input[type=text]'); if(first){ first.focus(); first.select(); } }, 30); });

    document.getElementById('resetDefaults').addEventListener('click', ()=>{ if(!confirm('Reset rates to original defaults? This will overwrite local changes.')) return; ITEMS = DEFAULT_RATES.map(d=>({ idKey:d.idKey, sl:d.sl, name:d.name, unit:d.unit, rate:Number(d.rate) })); saveItems(ITEMS); renderAll(); adminModal.style.display = 'none'; alert('Reset to defaults'); });

    document.getElementById('closeAdmin').addEventListener('click', ()=>{ adminModal.style.display = 'none'; });

    document.getElementById('saveRates').addEventListener('click', ()=>{
      const rows = adminList.querySelectorAll('.admin-row');
      const newItems = [];
      for(const r of rows){
        const nameInp = r.querySelector('input[type=text]');
        const unitSel = r.querySelector('select');
        const priceInp = r.querySelector('input[type=number]');
        if(!nameInp || !unitSel || priceInp===null) continue;
        let id = nameInp.dataset.origId || slugify(nameInp.value || ('item_' + Date.now()));
        if(newItems.some(it=>it.idKey === id)) id = id + '_' + Date.now();
        const name = nameInp.value || 'Unnamed';
        const unit = unitSel.value || 'kg';
        const rate = Number(priceInp.value) || 0;
        newItems.push({ idKey:id, name, unit, rate });
      }
      ITEMS = newItems.map((it,i)=> Object.assign({}, it, { sl: i+1 }));
      saveItems(ITEMS); renderAll(); adminModal.style.display = 'none'; alert('Items & rates saved locally.');
    });

    document.getElementById('exportBtn').addEventListener('click', ()=>{ const data = { items: ITEMS }; const blob = new Blob([JSON.stringify(data, null, 2)], { type:'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'rates_export.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); });
    document.getElementById('importBtn').addEventListener('click', ()=> document.getElementById('fileImport').click());
    document.getElementById('fileImport').addEventListener('change', (e)=>{ if(e.target.files && e.target.files[0]) importJSON(e.target.files[0]); });

    function importJSON(file){
      const r = new FileReader();
      r.onload = ()=>{
        try{
          const obj = JSON.parse(r.result);
          if(obj.items && Array.isArray(obj.items)){
            ITEMS = obj.items.map((it, idx)=>({ idKey: it.idKey || slugify(it.name || ('item_'+idx)), sl: idx+1, name: it.name || 'Unnamed', unit: it.unit || 'kg', rate: Number(it.rate) || 0 }));
            saveItems(ITEMS); renderAll(); alert('Imported items applied.');
          } else { alert('Import failed: invalid format (expected { items: [...] })'); }
        }catch(e){ alert('Import failed: invalid JSON'); }
      };
      r.readAsText(file);
    }

    function takeRatesScreenshot(){
      const rows = ITEMS.map(it=>({ name: it.name, unit: it.unit, rate: it.rate }));
      if(rows.length === 0){ alert('No items to capture'); return; }
      const snap = document.createElement('div'); snap.className = 'screenshot-root';
      const header = document.createElement('div'); header.style.display='flex'; header.style.justifyContent='space-between'; header.style.alignItems='center'; header.style.marginBottom='12px';
      header.innerHTML = '<div style="font-weight:900;font-size:18px">Aone Kabadi — Rates</div><div style="font-size:12px;color:#333">' + new Date().toLocaleString() + '</div>';
      snap.appendChild(header);
      const table = document.createElement('table'); table.className = 'screenshot-table';
      table.innerHTML = '<thead><tr><th>Item</th><th>Unit</th><th style="text-align:right">Rate</th></tr></thead>';
      const tbody = document.createElement('tbody');
      rows.forEach(r=>{ const tr = document.createElement('tr'); const td1 = document.createElement('td'); td1.textContent = r.name; const td2 = document.createElement('td'); td2.textContent = r.unit; const td3 = document.createElement('td'); td3.style.textAlign = 'right'; td3.textContent = (r.unit==='pc') ? ('₹ ' + Number(r.rate).toLocaleString()) : ('₹ ' + Number(r.rate).toLocaleString() + ' /kg'); tr.appendChild(td1); tr.appendChild(td2); tr.appendChild(td3); tbody.appendChild(tr); });
      table.appendChild(tbody); snap.appendChild(table); snap.style.position = 'fixed'; snap.style.left = '-9999px'; document.body.appendChild(snap);
      if(window.html2canvas){
        html2canvas(snap, { scale: 2, backgroundColor: '#fff' }).then(canvas=>{ canvas.toBlob(function(blob){ const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'rates-3.html'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); snap.remove(); }, 'image/png'); }).catch(err=>{ snap.remove(); alert('Screenshot failed: ' + err); });
      } else { const w = window.open('', '_blank'); w.document.write('<html><head><title>Rates</title><style>body{font-family:Arial;padding:18px;color:#000}table{width:100%;border-collapse:collapse}th,td{padding:8px;border-bottom:1px solid #ddd;text-align:left}th{font-weight:800}</style></head><body>' + snap.innerHTML + '</body></html>'); w.document.close(); }
    }

    /* Attach screenshot handler to the single screenshotBtn (do NOT create a new button) */
    (function attachScreenshotHandler(){
      const btn = document.getElementById('screenshotBtn');
      if(btn){
        btn.addEventListener('click', takeRatesScreenshot);
        btn.setAttribute('aria-label', 'Download rates screenshot');
      }
    })();

    window.addEventListener('storage', ()=>{ ITEMS = loadItems(); renderAll(); });

    /* Mobile menu init (unchanged) */
    (function(){ if(window.__a1_mobile_menu_inited) return; window.__a1_mobile_menu_inited = true; function initMenu(){ var wrapper = document.getElementById('mobile-collapsible-nav-inject'); if(!wrapper) return; var btn = document.getElementById('hamburger-inject'); var menu = document.getElementById('site-collapsible-menu'); if(!btn || !menu) return; btn.setAttribute('aria-expanded','false'); menu.setAttribute('aria-hidden','true'); function openMenu(){ menu.classList.add('open'); btn.classList.add('open'); btn.setAttribute('aria-expanded','true'); menu.setAttribute('aria-hidden','false'); try{ menu.style.maxHeight = menu.scrollHeight + 'px'; }catch(e){} } function closeMenu(){ menu.classList.remove('open'); btn.classList.remove('open'); btn.setAttribute('aria-expanded','false'); menu.setAttribute('aria-hidden','true'); try{ menu.style.maxHeight = 0; }catch(e){} } btn.addEventListener('click', function(e){ e.stopPropagation(); if(menu.classList.contains('open')) closeMenu(); else openMenu(); }); menu.addEventListener('click', function(e){ var a = e.target.closest('a'); if(a){ setTimeout(closeMenu, 120); } }); document.addEventListener('keydown', function(ev){ if(ev.key === 'Escape' && menu.classList.contains('open')) closeMenu(); }); window.addEventListener('resize', function(){ if(window.innerWidth > 768 && menu.classList.contains('open')) closeMenu(); }); document.addEventListener('click', function(ev){ if(!menu.classList.contains('open')) return; var inside = ev.target.closest && (ev.target.closest('#site-collapsible-menu') || ev.target.closest('#hamburger-inject')); if(!inside) closeMenu(); }); }
      if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', initMenu); else initMenu(); })();


    renderAll();

    /* Small accessibility: trap focus inside admin modal while open (basic) */
    (function smallFocusTrap(){
      let lastActive = null;
      adminModal.addEventListener('keydown', function(e){
        if(e.key !== 'Tab') return;
        const focusable = adminModal.querySelectorAll('a,button,input,select,textarea,[tabindex]:not([tabindex="-1"])');
        if(!focusable.length) return;
        const first = focusable[0], last = focusable[focusable.length-1];
        if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
        else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
      });
      adminToggle.addEventListener('click', ()=>{ lastActive = document.activeElement; });
      document.getElementById('closeAdmin').addEventListener('click', ()=>{ if(lastActive && lastActive.focus) lastActive.focus(); });
    })();

  </script>
<a href="https://wa.me/917856815038" class="whatsapp-float" target="_blank" aria-label="Chat on WhatsApp">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
</a>
</body>

<!-- Mirrored from www.aonekabadi.com/rates.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Nov 2025 14:46:20 GMT -->
</html>
